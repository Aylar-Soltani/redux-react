{"ast":null,"code":"import { SET_COUNTRIES_LIST, ADD_COUNTRY, REMOVE_COUNTRY } from '../../types';\nexport default function country(state = {\n  allCountries: [],\n  inCart: []\n}, action) {\n  switch (action.type) {\n    case ADD_COUNTRY:\n      {\n        const {\n          country\n        } = action.payload;\n\n        if (state.inCart.find(c => c.name === country.name)) {\n          return state;\n        }\n\n        return { ...state,\n          inCart: [...state.inCart, country]\n        };\n      }\n\n    case REMOVE_COUNTRY:\n      {\n        const {\n          country\n        } = action.payload;\n        const index = state.inCart.findIndex(c => c.name === country.name);\n\n        if (index >= 0) {\n          state.inCart.splice(index, 1);\n          return { ...state,\n            inCart: [...state.inCart]\n          };\n        }\n\n        return state;\n      }\n\n    case SET_COUNTRIES_LIST:\n      {\n        return { ...state,\n          allCountries: action.payload.country\n        };\n      }\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/Users/aylarsoltani/javascript-projects/redux/redux-assignment/fs7-react-redux-typescript/src/redux/reducers/country.ts"],"names":["SET_COUNTRIES_LIST","ADD_COUNTRY","REMOVE_COUNTRY","country","state","allCountries","inCart","action","type","payload","find","c","name","index","findIndex","splice"],"mappings":"AAAA,SAEEA,kBAFF,EAIEC,WAJF,EAKEC,cALF,QAMO,aANP;AAQA,eAAe,SAASC,OAAT,CACbC,KAAmB,GAAG;AACpBC,EAAAA,YAAY,EAAE,EADM;AAEpBC,EAAAA,MAAM,EAAE;AAFY,CADT,EAKbC,MALa,EAMC;AACd,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKP,WAAL;AAAkB;AAChB,cAAM;AAAEE,UAAAA;AAAF,YAAcI,MAAM,CAACE,OAA3B;;AACA,YAAIL,KAAK,CAACE,MAAN,CAAaI,IAAb,CAAmBC,CAAD,IAAOA,CAAC,CAACC,IAAF,KAAWT,OAAO,CAACS,IAA5C,CAAJ,EAAuD;AACrD,iBAAOR,KAAP;AACD;;AACD,eAAO,EAAE,GAAGA,KAAL;AAAYE,UAAAA,MAAM,EAAE,CAAC,GAAGF,KAAK,CAACE,MAAV,EAAkBH,OAAlB;AAApB,SAAP;AACD;;AAED,SAAKD,cAAL;AAAqB;AACnB,cAAM;AAAEC,UAAAA;AAAF,YAAcI,MAAM,CAACE,OAA3B;AACA,cAAMI,KAAK,GAAGT,KAAK,CAACE,MAAN,CAAaQ,SAAb,CAAwBH,CAAD,IAAOA,CAAC,CAACC,IAAF,KAAWT,OAAO,CAACS,IAAjD,CAAd;;AACA,YAAIC,KAAK,IAAI,CAAb,EAAgB;AACdT,UAAAA,KAAK,CAACE,MAAN,CAAaS,MAAb,CAAoBF,KAApB,EAA2B,CAA3B;AACA,iBAAO,EAAE,GAAGT,KAAL;AAAYE,YAAAA,MAAM,EAAE,CAAC,GAAGF,KAAK,CAACE,MAAV;AAApB,WAAP;AACD;;AACD,eAAOF,KAAP;AACD;;AAED,SAAKJ,kBAAL;AAAyB;AACvB,eAAO,EAAE,GAAGI,KAAL;AAAYC,UAAAA,YAAY,EAAEE,MAAM,CAACE,OAAP,CAAeN;AAAzC,SAAP;AACD;;AAED;AACE,aAAOC,KAAP;AAxBJ;AA0BD","sourcesContent":["import {\n  CountryState,\n  SET_COUNTRIES_LIST,\n  CountryAction,\n  ADD_COUNTRY,\n  REMOVE_COUNTRY,\n} from '../../types'\n\nexport default function country(\n  state: CountryState = {\n    allCountries: [],\n    inCart: [],\n  },\n  action: CountryAction\n): CountryState {\n  switch (action.type) {\n    case ADD_COUNTRY: {\n      const { country } = action.payload\n      if (state.inCart.find((c) => c.name === country.name)) {\n        return state\n      }\n      return { ...state, inCart: [...state.inCart, country] }\n    }\n\n    case REMOVE_COUNTRY: {\n      const { country } = action.payload\n      const index = state.inCart.findIndex((c) => c.name === country.name)\n      if (index >= 0) {\n        state.inCart.splice(index, 1)\n        return { ...state, inCart: [...state.inCart] }\n      }\n      return state\n    }\n\n    case SET_COUNTRIES_LIST: {\n      return { ...state, allCountries: action.payload.country }\n    }\n\n    default:\n      return state\n  }\n}\n"]},"metadata":{},"sourceType":"module"}