{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchCountry } from '../../redux/actions';\nexport default function useCountries(searchTerm) {\n  _s();\n\n  const [filteredCountries, setfilteredCountries] = useState([]);\n  const dispatch = useDispatch();\n  const {\n    allCountries\n  } = useSelector(state => state.country);\n  useEffect(() => {\n    dispatch(fetchCountry());\n  }, [dispatch]);\n  useEffect(() => {\n    let filteredData = allCountries.filter(country => {\n      var _country$nativeName;\n\n      return country.name.toLowerCase().search(searchTerm.toLowerCase()) !== -1 || ((_country$nativeName = country.nativeName) === null || _country$nativeName === void 0 ? void 0 : _country$nativeName.toLowerCase().search(searchTerm.toLowerCase())) !== -1;\n    });\n    setfilteredCountries(filteredData);\n  }, [allCountries, searchTerm]);\n  return [filteredCountries];\n}\n\n_s(useCountries, \"kMoHA0/8UXNHSXAqB8fCKYOscw4=\", false, function () {\n  return [useDispatch, useSelector];\n});","map":{"version":3,"sources":["/Users/aylarsoltani/javascript-projects/redux/redux-assignment/fs7-react-redux-typescript/src/components/hooks/useCountries.ts"],"names":["useState","useEffect","useDispatch","useSelector","fetchCountry","useCountries","searchTerm","filteredCountries","setfilteredCountries","dispatch","allCountries","state","country","filteredData","filter","name","toLowerCase","search","nativeName"],"mappings":";;AAAA,SAAQA,QAAR,EAAkBC,SAAlB,QAAkC,OAAlC;AACA,SAAQC,WAAR,EAAqBC,WAArB,QAAuC,aAAvC;AAEA,SAAQC,YAAR,QAA2B,qBAA3B;AAGA,eAAe,SAASC,YAAT,CAAsBC,UAAtB,EAAwD;AAAA;;AAEnE,QAAM,CAACC,iBAAD,EAAoBC,oBAApB,IAA4CR,QAAQ,CAAa,EAAb,CAA1D;AACA,QAAMS,QAAQ,GAAGP,WAAW,EAA5B;AACA,QAAM;AAACQ,IAAAA;AAAD,MAAiBP,WAAW,CAAEQ,KAAD,IAAoBA,KAAK,CAACC,OAA3B,CAAlC;AAEAX,EAAAA,SAAS,CAAC,MAAM;AACZQ,IAAAA,QAAQ,CAACL,YAAY,EAAb,CAAR;AACH,GAFQ,EAEN,CAACK,QAAD,CAFM,CAAT;AAKAR,EAAAA,SAAS,CAAC,MAAM;AAChB,QAAIY,YAAY,GAAGH,YAAY,CAACI,MAAb,CAAqBF,OAAD,IAAa;AAAA;;AAChD,aACIA,OAAO,CAACG,IAAR,CAAaC,WAAb,GAA2BC,MAA3B,CAAkCX,UAAU,CAACU,WAAX,EAAlC,MAAgE,CAAC,CAAjE,IACA,wBAAAJ,OAAO,CAACM,UAAR,4EAAoBF,WAApB,GAAkCC,MAAlC,CAAyCX,UAAU,CAACU,WAAX,EAAzC,OAAuE,CAAC,CAF5E;AAIH,KALkB,CAAnB;AAMAR,IAAAA,oBAAoB,CAAEK,YAAF,CAApB;AACH,GARY,EAQX,CAACH,YAAD,EAAeJ,UAAf,CARW,CAAT;AAUA,SAAO,CAAEC,iBAAF,CAAP;AACH;;GAtBuBF,Y;UAGHH,W,EACMC,W","sourcesContent":["import {useState, useEffect} from 'react'\nimport {useDispatch, useSelector} from 'react-redux'\nimport {Country, AppState} from '../../types'\nimport {fetchCountry} from '../../redux/actions'\n\n\nexport default function useCountries(searchTerm: string) :[ Country[]] {\n   \n    const [filteredCountries, setfilteredCountries] = useState <Country[]>([]);\n    const dispatch = useDispatch()\n    const {allCountries} = useSelector((state:AppState) => state.country)\n    \n    useEffect(() => {\n        dispatch(fetchCountry())\n    }, [dispatch]);\n\n\n    useEffect(() => {\n    let filteredData = allCountries.filter((country) => {\n        return (\n            country.name.toLowerCase().search(searchTerm.toLowerCase()) !== -1 || \n            country.nativeName?.toLowerCase().search(searchTerm.toLowerCase()) !== -1\n        );\n    });\n    setfilteredCountries (filteredData);\n},[allCountries, searchTerm]);\n\n    return [ filteredCountries];     \n}\n"]},"metadata":{},"sourceType":"module"}